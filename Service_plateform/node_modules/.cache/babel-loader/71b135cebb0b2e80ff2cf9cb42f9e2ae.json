{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projets\\\\OnLineSchool\\\\Service_plateform\\\\src\\\\components\\\\Concours\\\\AllTickets.js\";\nimport React, { Component } from 'react';\nimport Modal from 'react-modal';\nimport Box from '@material-ui/core/Box';\nimport axios from 'axios';\nimport '../../styles.css';\nimport { utilisateur, password, isLoginAdmin } from '../Accueil';\n\nclass AllTickets extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeContent = event => {\n      this.setState({\n        addresponse: event.target.value\n      });\n    };\n\n    this.IsAdmin = () => {\n      if (isLoginAdmin) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          onSubmit: event => {\n            event.preventDefault();\n            this.sendResponse(this.state.addresponse, this.state.id);\n          },\n          style: {\n            margin: 20\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group col-md-13 mb-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          for: \"content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }\n        }, \"Ajouter un commentaire/une r\\xE9ponse\"), /*#__PURE__*/React.createElement(\"textarea\", {\n          value: this.state.value,\n          placeholder: this.state.reponse,\n          className: \"form-control\",\n          onChange: this.onChangeContent,\n          style: {\n            height: 100\n          },\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            marginLeft: '30%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          type: \"submit\",\n          onClick: () => this.setState({\n            modalVisible: false\n          }),\n          className: \"btn btn-primary\",\n          value: \"Envoyer\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          style: {\n            marginLeft: 10\n          },\n          onClick: () => this.setState({\n            modalVisible: false\n          }),\n          className: \"btn btn-warning\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }\n        }, \"Fermer la fen\\xEAtre\"))));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          display: \"flex\",\n          flexDirection: \"column\",\n          bgcolor: \"background.paper\",\n          p: 1,\n          m: 1,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          bgcolor: \"grey.300\",\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\",\n            textAlign: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }\n        }, \"Reponse\"), /*#__PURE__*/React.createElement(Box, {\n          style: {\n            marginTop: 8\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }\n        }, this.state.reponse)), /*#__PURE__*/React.createElement(\"button\", {\n          style: {\n            marginLeft: 10\n          },\n          onClick: () => this.isResolu(this.state.id),\n          className: \"btn btn-warning\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 21\n          }\n        }, \"Ticket resolu\"), /*#__PURE__*/React.createElement(\"button\", {\n          style: {\n            marginLeft: 10\n          },\n          onClick: () => this.setState({\n            modalVisible: false\n          }),\n          className: \"btn btn-warning\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }\n        }, \"Fermer la fen\\xEAtre\"));\n      }\n    };\n\n    this.contentModal = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"black\",\n          height: 30,\n          margin: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        style: {\n          textAlign: \"center\",\n          paddingTop: 5,\n          color: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, this.state.title)), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: '100%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        flexDirection: \"row\",\n        p: 1,\n        m: 1,\n        bgcolor: \"background.paper\",\n        justifyContent: \"space-between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        p: 1,\n        bgcolor: \"grey.300\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: 'center',\n          color: 'black',\n          fontWeight: 'bold',\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, \"service \"), /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }\n      }, this.state.service)), /*#__PURE__*/React.createElement(Box, {\n        p: 1,\n        bgcolor: \"grey.300\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: 'center',\n          color: 'black',\n          fontWeight: 'bold',\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }\n      }, \"auteur \"), /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, this.state.auteur)), /*#__PURE__*/React.createElement(Box, {\n        p: 1,\n        bgcolor: \"grey.300\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: 'center',\n          color: 'black',\n          fontWeight: 'bold',\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }\n      }, \"date de cr\\xE9ation\"), /*#__PURE__*/React.createElement(Box, {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, \" \", this.state.date)))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        bgcolor: \"background.paper\",\n        p: 1,\n        m: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        bgcolor: \"grey.300\",\n        style: {\n          fontSize: 16,\n          fontWeight: \"bold\",\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, \"details\"), /*#__PURE__*/React.createElement(Box, {\n        style: {\n          marginTop: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }\n      }, this.state.contenu))), this.IsAdmin());\n    };\n\n    this.state = {\n      modalVisible: false,\n      tickets: [],\n      id: '',\n      title: '',\n      service: '',\n      auteur: '',\n      date: '',\n      etat: '',\n      contenu: '',\n      reponse: 'Aucune reponse pour le moment',\n      addresponse: ''\n    };\n  } //on recupère les données back end\n\n\n  componentDidMount() {\n    let data = {\n      'user': utilisateur,\n      'password': password\n    };\n    axios.post('http://localhost:8000/ticket/liste/', data).then(res => {\n      const tickets = res.data;\n      this.setState({\n        tickets: tickets\n      });\n      console.log(tickets);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  isResolu(id_ticket) {\n    let data = {\n      'id': id_ticket\n    };\n    axios.post('http://localhost:8000/ticket/validate/', data).then(res => {\n      console.log(res.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    this.setState({\n      modalVisible: false\n    });\n    console.log('id du ticket ', id_ticket);\n  }\n\n  sendResponse(response, id_ticket) {\n    let data = {\n      'id': id_ticket,\n      'response': response\n    };\n    axios.post('http://localhost:8000/ticket/edit/', data).then(res => {\n      console.log(res.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    console.log('reponse ', response);\n  }\n\n  ShowModal() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.modalVisible,\n      closeTimeoutMS: 500,\n      contentLabel: \"modal\",\n      style: {\n        overlay: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0,0,0,0.8)'\n        },\n        content: {\n          position: 'absolute',\n          top: '40px',\n          left: '30%',\n          right: '30%',\n          bottom: '40px',\n          border: '1px solid black',\n          background: '#E0E0E0',\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          borderRadius: '10px',\n          outline: 'none',\n          padding: '0px'\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, this.contentModal()));\n  }\n\n  render() {\n    const MyTickets = this.state.tickets;\n    const content = MyTickets.map(ticket => /*#__PURE__*/React.createElement(\"tr\", {\n      onClick: () => this.setState({\n        modalVisible: true,\n        id: ticket.id,\n        title: ticket.title,\n        service: ticket.service,\n        auteur: ticket.auteur,\n        date: ticket.date_création,\n        etat: ticket.state,\n        contenu: ticket.details,\n        reponse: ticket.response\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, ticket.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }\n    }, ticket.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, ticket.service), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, ticket.date_création), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }\n    }, ticket.state)));\n\n    function showTable() {\n      if (MyTickets.length === 0) {\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          style: {\n            textAlign: 'center',\n            marginTop: 100\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 21\n          }\n        }, \"Aucun ticket dans cette rubrique\");\n      }\n\n      if (MyTickets.length <= 8 && MyTickets.length >= 1) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container-fluid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"table-wrapper-scroll-y my-custom-scrollbar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"table\", {\n          className: \"table table-bordered table-hover mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"thead\", {\n          style: {\n            backgroundColor: 'orange'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 37\n          }\n        }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 37\n          }\n        }, \"Titre\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 37\n          }\n        }, \"Service\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 37\n          }\n        }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 37\n          }\n        }, \"Etat\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 33\n          }\n        }, content))));\n      }\n\n      if (MyTickets.length > 8) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"container-fluid\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"table-wrapper-scroll-y my-custom-scrollbar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"table\", {\n          className: \"table table-bordered table-hover mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"thead\", {\n          style: {\n            backgroundColor: 'orange'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 37\n          }\n        }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 37\n          }\n        }, \"Titre\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 37\n          }\n        }, \"Service\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 37\n          }\n        }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 37\n          }\n        }, \"Etat\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 33\n          }\n        }, content), /*#__PURE__*/React.createElement(\"tfoot\", {\n          style: {\n            backgroundColor: 'orange'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 41\n          }\n        }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 41\n          }\n        }, \"Titre\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 41\n          }\n        }, \"Service\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 41\n          }\n        }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 41\n          }\n        }, \"Etat\"))))));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: 20\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }\n    }, \"Mes tickets\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 21\n      }\n    }, \"Ici vous pouvez voir tous les tickets que vous avez cr\\xE9\\xE9\")), showTable(), this.ShowModal());\n  }\n\n}\n\nexport default AllTickets;","map":{"version":3,"sources":["E:/Projets/OnLineSchool/Service_plateform/src/components/Concours/AllTickets.js"],"names":["React","Component","Modal","Box","axios","utilisateur","password","isLoginAdmin","AllTickets","constructor","props","onChangeContent","event","setState","addresponse","target","value","IsAdmin","preventDefault","sendResponse","state","id","margin","reponse","height","marginLeft","modalVisible","fontSize","fontWeight","textAlign","marginTop","isResolu","contentModal","backgroundColor","paddingTop","color","title","width","service","auteur","date","contenu","tickets","etat","componentDidMount","data","post","then","res","console","log","catch","error","id_ticket","response","ShowModal","overlay","position","top","left","right","bottom","content","border","background","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","render","MyTickets","map","ticket","date_création","details","showTable","length","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Modal from 'react-modal'\nimport Box from '@material-ui/core/Box';\nimport axios from 'axios';\nimport '../../styles.css';\nimport { utilisateur ,password, isLoginAdmin} from '../Accueil';\n\nclass AllTickets extends Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            modalVisible:false,\n            tickets:[],\n            id:'',\n            title:'',\n            service:'',\n            auteur:'',\n            date:'',\n            etat:'',\n            contenu:'',\n            reponse:'Aucune reponse pour le moment',\n            addresponse:'',\n        }\n    }\n\n\n    //on recupère les données back end\n\n    componentDidMount() {\n\t\tlet data={\n              'user':utilisateur,\n              'password':password\n          };\n        axios.post('http://localhost:8000/ticket/liste/',data)\n          .then(res => {\n            const tickets = res.data;\n            this.setState({tickets: tickets  });\n            console.log(tickets)\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      }\n\n\n      isResolu(id_ticket){\n       let data={'id':id_ticket}\n        axios.post('http://localhost:8000/ticket/validate/',data)\n        .then(res => {\n          console.log(res.data)\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        this.setState({modalVisible:false})\n        console.log('id du ticket ',id_ticket)\n      }\n\n\n      onChangeContent = (event) => {\n        this.setState({addresponse: event.target.value});\n      }\n\n\n      sendResponse(response,id_ticket){\n       let data = {'id':id_ticket,'response':response}\n        axios.post('http://localhost:8000/ticket/edit/',data)\n        .then(res => {\n          console.log(res.data)\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n        console.log('reponse ',response)\n      }\n\n\n    ShowModal(){\n    \n        return(\n            <div className='main'>\n                <Modal isOpen={this.state.modalVisible} closeTimeoutMS={500} contentLabel=\"modal\"\n                    style={{\n                        overlay: {\n                        position: 'fixed',\n                        top: 0,\n                        left: 0,\n                        right: 0,\n                        bottom: 0,\n                        backgroundColor: 'rgba(0,0,0,0.8)'\n                        },\n                        content: {\n                        position: 'absolute',\n                        top: '40px',\n                        left: '30%',\n                        right: '30%',\n                        bottom: '40px',\n                        border: '1px solid black',\n                        background: '#E0E0E0',\n                        overflow: 'auto',\n                        WebkitOverflowScrolling: 'touch',\n                        borderRadius: '10px',\n                        outline: 'none',\n                        padding: '0px'\n                        }\n                    }}>\n                    {this.contentModal()}\n                </Modal>\n    \n            </div>\n        )\n    }\n\n    IsAdmin=()=>{\n        if(isLoginAdmin){\n            return(\n                <div>\n                    <form onSubmit={(event)=>{event.preventDefault(); this.sendResponse(this.state.addresponse,this.state.id)}} style={{margin:20}}>\n                        <div className='form-group col-md-13 mb-3'>\n                            <label for='content'>Ajouter un commentaire/une réponse</label>\n                            <textarea value={this.state.value} placeholder={this.state.reponse} className =\"form-control\" \n                             onChange={this.onChangeContent} style={{height:100}} required/>\n                        </div>\n                        <div style={{marginLeft:'30%'}}>\n                            <input type=\"submit\" onClick={()=>this.setState({modalVisible:false})} className=\"btn btn-primary\" value=\"Envoyer\" />\n                            <button  style={{marginLeft:10}} onClick={()=>this.setState({modalVisible:false})}\n                                className=\"btn btn-warning\">Fermer la fenêtre</button>\n                        </div>\n                    </form>\n                </div>\n            )\n        }\n        else{\n            return(\n                <div>\n                    <Box display=\"flex\" flexDirection='column'  bgcolor=\"background.paper\" p={1} m={1}>\n                        <Box bgcolor=\"grey.300\" style={{fontSize:16,fontWeight:\"bold\",textAlign:\"center\"}}>Reponse</Box>\n                        <Box style={{marginTop:8}} >{this.state.reponse}</Box>\n                    </Box>\n                    <button  style={{marginLeft:10}} onClick={()=>                          \n                            this.isResolu(this.state.id)      \n                    }\n                                className=\"btn btn-warning\">Ticket resolu</button>\n                    <button  style={{marginLeft:10}} onClick={()=>this.setState({modalVisible:false})}\n                                className=\"btn btn-warning\">Fermer la fenêtre</button>\n                </div>\n            )\n        }\n    }\n\n    contentModal=()=>{\n        return(\n            <div>\n                <div style={{backgroundColor:\"black\",height:30 ,margin:20}}>\n                    \n                    <h5 style={{textAlign:\"center\",paddingTop:5 ,color:'white'}}>\n                     {this.state.title}</h5>\n                </div>\n                <div style={{ width: '100%' }}>\n\n                <Box display=\"flex\" flexDirection=\"row\" p={1} m={1}\n                    bgcolor=\"background.paper\" justifyContent='space-between'>\n                    <Box p={1} bgcolor=\"grey.300\">\n                        <Box style={{textAlign:'center',color:'black',fontWeight:'bold',fontSize:16}}>service </Box>\n                        <Box style={{textAlign:\"center\"}}>{this.state.service}</Box>\n                    </Box>\n                    <Box p={1} bgcolor=\"grey.300\">\n                        <Box style={{textAlign:'center',color:'black',fontWeight:'bold' ,fontSize:16}}>auteur </Box>\n                        <Box style={{textAlign:\"center\"}}>{this.state.auteur}</Box>\n                    </Box>\n                    <Box  p={1} bgcolor=\"grey.300\">\n                        <Box style={{textAlign:'center',color:'black' ,fontWeight:'bold',fontSize:16}}>date de création</Box>\n                        <Box style={{textAlign:\"center\"}}> {this.state.date}</Box>\n                    </Box>\n                    \n                </Box>\n                </div>\n                <div>\n                    <Box display=\"flex\" flexDirection='column'  bgcolor=\"background.paper\" p={1} m={1}>\n                        <Box bgcolor=\"grey.300\" style={{fontSize:16,fontWeight:\"bold\",textAlign:\"center\"}}>details</Box>\n                        <Box style={{marginTop:8}} >{this.state.contenu}</Box>\n                    </Box>\n                </div>\n                \n\n\n                {this.IsAdmin()}\n\n\n            </div>\n        )\n    }\n    \n    render(){\n\n        const MyTickets = this.state.tickets\n       \n\n          const content = MyTickets.map((ticket) =>\n            \n                <tr onClick={\n                    ()=>this.setState({\n                        modalVisible:true,\n                        id:ticket.id,\n                        title:ticket.title,\n                        service:ticket.service,\n                        auteur:ticket.auteur,\n                        date:ticket.date_création,\n                        etat:ticket.state,\n                        contenu:ticket.details,\n                        reponse:ticket.response,\n                        })}>\n                    <th scope=\"row\">{ticket.id}</th>\n                    <td>{ticket.title}</td>\n                    <td>{ticket.service}</td>\n                    \n                    <td>{ticket.date_création}</td>\n                    <td>{ticket.state}</td>\n                </tr>\n           \n          );\n\n         \n        function showTable(){\n\n            \n             \n              if(MyTickets.length ===0){\n                  return(\n                    <h5 style={{textAlign:'center',marginTop:100}}>\n                        Aucun ticket dans cette rubrique</h5>\n                  )\n              }\n              if(MyTickets.length <=8 && MyTickets.length>=1){\n                return (\n                    <div className=\"container-fluid\">\n              \n                        <div className=\"table-wrapper-scroll-y my-custom-scrollbar\">\n                            <table className=\"table table-bordered table-hover mb-0\">\n                                <thead style={{backgroundColor:'orange'}}>\n                                    <tr >\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Titre</th>\n                                    <th scope=\"col\">Service</th>\n                                    \n                                    <th scope=\"col\">Date</th>\n                                    <th scope=\"col\">Etat</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {content}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                )\n                }\n              if(MyTickets.length>8){\n                return (\n                    <div className=\"container-fluid\">\n              \n                        <div className=\"table-wrapper-scroll-y my-custom-scrollbar\">\n                            <table className=\"table table-bordered table-hover mb-0\">\n                                <thead style={{backgroundColor:'orange'}}>\n                                    <tr >\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Titre</th>\n                                    <th scope=\"col\">Service</th>\n                                    \n                                    <th scope=\"col\">Date</th>\n                                    <th scope=\"col\">Etat</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {content}\n                                </tbody>\n                                <tfoot style={{backgroundColor:'orange'}}>\n                                    <tr >\n                                        <th scope=\"col\">#</th>\n                                        <th scope=\"col\">Titre</th>\n                                        <th scope=\"col\">Service</th>\n                                       \n                                        <th scope=\"col\">Date</th>\n                                        <th scope=\"col\">Etat</th>\n                                    </tr>\n                                </tfoot>\n                            </table>\n                        </div>\n                    </div>\n                )\n              }\n            }\n          \n        return (\n            <div className=\"main\">\n                <div style={{textAlign:'center',marginBottom:20}}>\n                    <h3>Mes tickets</h3>\n                    <p>Ici vous pouvez voir tous les tickets que vous avez créé</p>\n                </div>\n\n\n                \n\n\n                \n                {showTable()}\n                {this.ShowModal()}\n            </div>\n        );\n    }\n}\n\nexport default AllTickets"]},"metadata":{},"sourceType":"module"}